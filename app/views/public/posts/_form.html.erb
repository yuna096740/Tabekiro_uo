<%= form_with model: post do |f| %>
  <%= render "layouts/errors", model: f.object %>
  <div class="row mt-3" data-aos="zoom-in" data-aos-duration="1000">
    <div class="col-md-6">
      <div class="my-2">
        <% if post.id == nil %>
          <%= image_tag 'topNewLOGO.svg' %>
        <% else %>
          <%= image_tag 'editPostLOGO.svg' %>
        <% end %>
      </div>

      <!--<div id="image_preview" style="max-width:150px max-height:100px">-->
      <!--  <%# if @post.post_image.attached? %>-->
      <!--    <span style="height: 150px; width: 150px;">-->
      <!--      <%#= image_tag @post.post_image, class:"rounded" %>-->
      <!--    </span>-->
      <!--  <%# end %>-->
      <!--</div>-->
      <table class="table table-borderless">
        <tbody>
          <tr>
            <th>画像 :</th>
            <td><%= f.file_field :post_image, required: true %></td> <!--, accept: 'image/*', onchange: "previewImage(this);"-->
          </tr>

          <tr>
            <th>タイトル :</th>
            <td><%= f.text_field :title, placeholder: "入力してください(60字以内)", required: true, class:"form-control" %></td>
          </tr>

          <tr>
            <th>紹介 :</th>
            <td><%= f.text_area :introduction, rows: "3", placeholder: "入力してください(150字以内)", required: true, class:"form-control" %></td>
          </tr>

          <tr>
            <th>お魚ジャンル :</th>
            <td><%= f.collection_select :tag_id, tags, :id, :name, {}, {class:"form-control col-6"} %></td>
          </tr>

          <tr>
            <th>期限 :</th>
            <td><div class="d-flex"><%= f.select :limit, *[1..24], {}, class:"form-control col-6" %><p class="mt-3 ml-1">時間</p></div></td>
          </tr>

          <tr>
            <th>ステータス :</th>
            <td><%= f.select :open_status, Post.open_statuses_i18n.invert, {}, {class:"form-control col-6"} %></td>
          </tr>
        </tbody>
      </table>

    </div>

    <div class="col-md-6 mt-5">
      <div class="d-flex mb-3">
        <input id="address" type="textbox" placeholder="ピンを刺したい地名を検索" class="form-control col-7">
        <input type="button" value="ピンを刺す" onclick="codeAddress()" class="form-control ml-4 btn btn-outline-secondary rounded-pill">
      </div>

      <div id="map" class="mapForm"></div>
      ※ ピンの位置の調整ができます。※ ピンは一度しか刺せません。

      <%= f.text_field :place_name, placeholder: "登録する地名を入力(15字以内)", required: true, class:"form-control my-3" %>

    </div>
    <div class="mx-auto">
      <div class="my-5">
        <%= f.hidden_field :latitude, id: :latitude %>
        <%= f.hidden_field :longitube, id: :longitube %>

        <% if post.id == nil %>
          <%= f.submit '投稿する', class:"btn btn-success px-5 rounded-pill" %>
        <% else %>
          <%= f.submit '変更する', class:"btn btn-danger px-5 rounded-pill" %>
        <% end %>
      </div>
    </div>
  </div>
<% end %>

<%# image preview 機能 %>
<%#= render 'public/posts/js_template/imagePreview' %>
<%# Google Map API %>
<%= render 'public/posts/js_template/newGoogleMap' %>
<script src="https://maps.googleapis.com/maps/api/js?key=<%= ENV['API_KEY'] %>&libraries=places&callback=initMap" async defer></script>