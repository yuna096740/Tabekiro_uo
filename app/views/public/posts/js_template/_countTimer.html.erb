<script>
  const elmHour = document.querySelector(".hour");
  const elmMin  = document.querySelector(".min");
  const elmSec  = document.querySelector(".sec");
  function test1() {
    const now = new Date();
    const postCreatedAt = new Date("<%= post.created_at.iso8601 %>");
    const limit = <%= post.limit %>;
    const limitTime = new Date(postCreatedAt.getTime() + limit * 60 * 60 * 1000);

    const differ = limitTime.getTime() - now.getTime();

    const sec = Math.floor(differ / 1000) % 60;
    const min = Math.floor(differ / 1000 / 60) % 60;
    const hour = Math.floor(differ / 1000 / 60 / 60);

    const timeLimit = document.querySelector(".timeLimit");
    const hideLimit = document.querySelector(".hideLimit");

    elmHour.textContent = String(hour).padStart(2, "0");
    elmMin.textContent = String(min).padStart(2, "0");
    elmSec.textContent = String(sec).padStart(2, "0");
    if ( differ < 0 ) {
      timeLimit.style.display = "none";
      hideLimit.style.display = "block";
    }
  }
  countDownTimer = test1();
  setInterval(countDownTimer, 1000);
</script>